(this.webpackJsonpfinal_form=this.webpackJsonpfinal_form||[]).push([[0],{249:function(e,t,n){},250:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(8),a=n.n(r),s=n(12),i=n(283),j=n(13),o=n(17),l=n(58),b=n(286),u=n(2),d=function(e){var t=e.name,n=Object(l.a)(e,["name"]),c=Object(o.c)(t),r=Object(s.a)(c,2),a=r[0],i=r[1],d=Object(j.a)(Object(j.a)(Object(j.a)({},a),n),{},{fullWidth:!0,variant:"standard"});return i&&i.touched&&i.error&&(d.error=!0,d.helperText=i.error),Object(u.jsx)(b.a,Object(j.a)({},d))},h=n(287),O=function(e){var t=e.name,n=e.options,c=Object(l.a)(e,["name","options"]),r=Object(o.c)(t),a=Object(s.a)(r,2),i=a[0],d=a[1],O=Object(o.d)().setFieldValue,m=Object(j.a)(Object(j.a)(Object(j.a)({},i),c),{},{select:!0,variant:"standard",fullWidth:!0,onChange:function(e){var n=e.target.value;O(t,n)}});return d&&d.touched&&d.error&&(m.error=!0,m.helperText=d.error),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(b.a,Object(j.a)(Object(j.a)({},m),{},{children:Object.keys(n).map((function(e,t){return Object(u.jsx)(h.a,{value:e,children:n[e]},t)}))}))})},m=n(282),x=function(e){var t=e.FormField,n=e.title;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(o.a,{children:Object(u.jsxs)(m.a,{direction:"column",style:{margin:"auto"},container:!0,spacing:3,children:[Object(u.jsx)(m.a,{item:!0,children:Object(u.jsx)("h3",{style:{color:"#3399FF",letterSpacing:1},children:n})}),t.map((function(e){return Object(u.jsx)(m.a,{style:{color:"#3399FF"},xs:10,item:!0,children:e.options?Object(u.jsx)(O,{name:e.name,label:e.label,options:e.options}):Object(u.jsx)(d,{name:e.name,label:e.label})},e.name)})),Object(u.jsx)(m.a,{item:!0,children:Object(u.jsx)(i.a,{style:{color:"#3399FF",borderColor:"#3399FF"},type:"submit",variant:"outlined",children:"Next"})})]})})})},p=n(43),f=p.c(),g=p.b().shape({request_id:f.required("Request Number is required")}),v=p.b().shape({mobile_number:f.required("This Field is required").length(10,"Mobile Number Should be exactly 10 digits"),amount:p.a().required("This Field is required").min(100,"Amount must be greater than or equal to NRS 100"),purpose:f.required("This Field is required")}),_=[{name:"request_id",label:"Request Number"}],F=[{name:"mobile_number",label:"Mobile Number"},{name:"amount",label:"Amount"},{name:"purpose",label:"Purpose",options:{data1:"car",data2:"loan",data3:"house loan"}}],q=n(284),y=n(285),C=function(){var e=Object(c.useContext)(w),t=e.data,n=e.handleNext;return Object(u.jsx)("div",{children:Object(u.jsx)(m.a,{justify:"center",container:!0,children:Object(u.jsx)(m.a,{item:!0,children:Object(u.jsx)(q.a,{children:Object(u.jsx)(y.a,{children:Object(u.jsx)(o.b,{initialValues:Object(j.a)({},t),validationSchema:g,onSubmit:function(e){n(e,"get")},children:Object(u.jsx)(x,{title:"Enter Request Number To Proceed",FormField:_})})})})})})})},N=function(e){var t=e.message,n=Object(c.useContext)(w).handlePrev;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(m.a,{container:!0,children:Object(u.jsxs)(m.a,{xs:12,item:!0,children:[Object(u.jsx)("h1",{children:t}),Object(u.jsx)(i.a,{onClick:n,variant:"outlined",children:"Back"})]})})})},S=function(e){var t=e.render;return Object(u.jsx)("span",{style:{color:"#009966",marginLeft:"4px"},children:t})},k=function(){var e=Object(c.useContext)(w),t=e.res,n=e.data;return 0===Object.keys(t).length?Object(u.jsx)("h4",{children:"Loading"}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(m.a,{justify:"center",container:!0,children:Object(u.jsx)(q.a,{children:Object(u.jsx)(y.a,{children:0===t.response_code?Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{children:["Request Number :",Object(u.jsx)(S,{render:t.request_id})]}),Object(u.jsxs)("h3",{children:["Status :",Object(u.jsx)(S,{render:t.response_message})]}),Object(u.jsxs)("h3",{children:["Customer Name :",Object(u.jsx)(S,{render:n.customer_name})]}),Object(u.jsxs)("h3",{children:["Total Amount (Charge Inc.) :",Object(u.jsx)(S,{render:t.amount})]})]}):Object(u.jsx)(N,{message:t.Response})})})})})},R=function(){var e=Object(c.useContext)(w),t=e.get,n=e.data,r=e.handleNext;console.log(t);return 0===Object.keys(t).length?Object(u.jsx)("h4",{children:"Loading"}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q.a,{children:Object(u.jsx)(y.a,{children:0===t.response_code?Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{spacing:4,alignItems:"center",container:!0,children:[Object(u.jsxs)(m.a,{xs:12,sm:8,item:!0,children:[Object(u.jsxs)("h3",{children:["Amount :",Object(u.jsx)(S,{render:t.amount})]}),Object(u.jsxs)("h3",{children:["Customer Name :",Object(u.jsx)(S,{render:t.properties.customer_name})]}),Object(u.jsx)(q.a,{children:Object(u.jsxs)(y.a,{children:[Object(u.jsx)("h3",{children:" Savings "}),Object(u.jsx)(m.a,{spacing:2,direction:"row",container:!0,children:t.properties.savings.map((function(e){return Object(u.jsx)(m.a,{style:{letterSpacing:1},xs:4,item:!0,children:Object(u.jsxs)(q.a,{children:[Object(u.jsx)("div",{style:{backgroundColor:"#009966",height:"20px"}}),Object(u.jsxs)(y.a,{children:[Object(u.jsxs)("h5",{children:["Account Number : ",e.account_no]}),Object(u.jsxs)("h5",{children:["Account Type : ",e.account_type]}),Object(u.jsxs)("h5",{children:["Accrued Amount :",Object(u.jsx)(S,{render:e.accrued_amount})]}),Object(u.jsxs)("h5",{children:["Balance: ",e.balance]})]})]})},e.account_no)}))})]})})]}),Object(u.jsx)(m.a,{xs:12,sm:4,item:!0,children:Object(u.jsxs)(q.a,{children:[Object(u.jsx)("div",{style:{backgroundColor:"#3399FF",height:"20px"}}),Object(u.jsx)(y.a,{children:Object(u.jsx)(o.b,{initialValues:n,validationSchema:v,onSubmit:function(e){e.customer_name=t.properties.customer_name,e.branch_name=t.properties.branch_name,r(e,"post")},children:Object(u.jsx)(x,{title:"Fill this form to pay",FormField:F})})})]})})]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(N,{message:t.Response})})})})})},A=n(115),T=n.n(A).a.create({baseURL:"https://emi.sajilopay.com.np/api/uranus",headers:{Authorization:"token f30c9ae9edfe4f6228d0f2989ce4ca1e1bfe751d"}}),P=function(){var e=Object(c.useState)(0),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)({}),i=Object(s.a)(a,2),o=i[0],l=i[1],b=Object(c.useState)({}),u=Object(s.a)(b,2),d=u[0],h=u[1],O=Object(c.useState)({branch_name:"",request_id:"",customer_name:"",mobile_number:"",amount:0,purpose:""}),m=Object(s.a)(O,2),x=m[0],p=m[1];return{handleNext:function(e,t){"post"===t&&function(e){console.log(e);var t={branch_name:e.branch_name,request_id:e.request_id,amount:e.amount,mobile_number:e.mobile_number,customer_name:e.customer_name};T.post("/payment/",t).then((function(e){return l(e.data)})).catch((function(e){return e.message}))}(e),"get"===t&&function(e){var t={request_id:e.request_id};console.log(e.request_id),T.post("/get_detail/",t).then((function(e){h(e.data)})).catch((function(e){return e.message}))}(e),r((function(e){return e+1})),p((function(t){return Object(j.a)(Object(j.a)({},t),e)}))},handlePrev:function(){l({}),r((function(e){return e-1}))},step:n,res:o,data:x,get:d}},w=Object(c.createContext)(),L=function(){var e=P(),t=e.handleNext,n=e.handlePrev,c=e.get,r=e.data,a=e.step,s=e.res,i=[Object(u.jsx)(C,{}),Object(u.jsx)(R,{}),Object(u.jsx)(k,{})];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(w.Provider,{value:{handleNext:t,data:r,get:c,res:s,handlePrev:n},children:i[a]})})},I=function(){var e=Object(c.useState)(0),t=Object(s.a)(e,2),n=t[0],r=t[1];switch(n){case 1:return Object(u.jsx)(L,{});case 2:return Object(u.jsx)("h1",{children:"Under Maintainance"});default:return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(i.a,{onClick:function(){return r(1)},variant:"outlined",children:"Uranus"})})}},M=function(){return Object(u.jsx)("div",{children:"Remittance Coming soon..."})},B=function(){var e=Object(c.useState)(0),t=Object(s.a)(e,2),n=t[0],r=t[1];switch(n){case 1:return Object(u.jsx)(M,{});case 2:return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.a,{variant:"outlined",onClick:function(){return r(1)},children:"Remittance"}),Object(u.jsx)(i.a,{style:{marginLeft:"20px"},variant:"outlined",onClick:function(){return r(2)},children:"EMI"})]});default:return Object(u.jsx)(I,{})}};n(249);a.a.render(Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(B,{})}),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.114cff13.chunk.js.map